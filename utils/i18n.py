from database.database import DatabaseUtils

TRANSLATIONS = {
    'en': {
        'customer': 'Customer',
        'tax_rate': 'Tax Rate (%)',
        'tax_amount': 'Tax Amount',
        'total': 'Total',
        'total_sales': 'Total Sales',
        'revenue': 'Revenue',
        'low_stock': 'Low Stock Items',
        'language': 'Language',
        'theme': 'Theme',
        'settings': 'Settings',
        'users': 'Users',
        'preferences': 'Preferences',
        'username': 'Username',
        'password': 'Password',
        'add_user': 'Add User',
        'save_preferences': 'Save Preferences',
        'user_added': 'User added successfully',
        'edit_user': 'Edit User',
        'delete_user': 'Delete User',
        'user_updated': 'User updated',
        'user_deleted': 'User deleted',
        'change_password': 'Change Password',
        'password_changed': 'Password changed',
        'old_password': 'Old Password',
        'new_password': 'New Password',
        'confirm_password': 'Confirm Password',
        'password_mismatch': 'Passwords do not match',
        'password_incorrect': 'Incorrect password',
        'select_user': 'Please select a user',
        'cannot_delete_current_user': 'Cannot delete currently logged-in user',
        'confirm_delete_user': 'Are you sure you want to delete this user?',
        'price_too_low': 'Price cannot be lower than default selling price',

        'username_exists': 'Username exists',
        'credentials_required': 'Username & Password required',
        'preferences_saved': 'Preferences saved',


        'pos': 'Point of Sale',
        'inventory': 'Inventory',
        'reports': 'Reports',
        'customers': 'Customers',

        'navigation': 'Navigation',
        'ready': 'Ready',
        'product_search': 'Product Search',
        'search': 'Search',
        'category': 'Category',
        'products': 'Products',
        'add_to_cart': 'Add to Cart',
        'dashboard': 'Dashboard',
        'shopping_cart': 'Shopping Cart',
        'edit_qty': 'Edit Qty',
        'remove': 'Remove',
        'clear_all': 'Clear All',
        'order_total': 'Order Total',
        'subtotal': 'Subtotal',
        'payment': 'Payment',
        'payment_method': 'Payment Method',
        'amount_paid': 'Amount Paid',
        'change': 'Change',
        'process_sale': 'Process Sale',
        'hold_sale': 'Hold Sale',
        'new_sale': 'New Sale',
        'id': 'ID',
        'name': 'Name',
        'price': 'Price',
        'stock': 'Stock',
        'unit': 'Unit',
        'shopping_cart_product': 'Product',
        'qty': 'Qty',
        'amount': 'Amount',
        'sales_receipt': 'SALES RECEIPT',
        'receipt_number': 'Receipt #:',
        'date': 'Date:',
        'cashier': 'Cashier:',
        'items': 'Item',
        'unit_price': 'Unit Price',
        'payment_method_label': 'Payment Method:',
        'amount_paid_label': 'Amount Paid:',
        'change_label': 'Change:',
        'subtotal_label': 'Subtotal:',
        'tax_label': 'Tax:',
        'total_label': 'Total:',
        'customer_label': 'Customer',
        'language_changed': 'Language changed. Please restart to apply everywhere.',
        'inventory_management': 'Inventory Management',
        'reports_analytics': 'Reports & Analytics',
        'pos_ready': 'Point of Sale - Ready',
        'failed_load_products': 'Failed to load products',
        'failed_refresh_products': 'Failed to refresh products',
        'failed_load_customers': 'Failed to load customers',
        'no_selection': 'No Selection',
        'select_product': 'Please select a product to add to cart.',
        'out_of_stock_msg': '{0} is out of stock.',
        'insufficient_stock': 'Only {0} {1}(s) available for {2}.',
        'error': 'Error',
        'out_of_stock': 'Out of Stock',
        'insufficient_stock_title': 'Insufficient Stock',
        'enter_quantity': 'Enter Quantity',
        'product_label': 'Product',
        'available': 'Available',
        'quantity': 'Quantity',
        'clear_cart': 'Clear Cart',
        'confirm_clear_cart': 'Are you sure you want to clear all items?',
        'stock_movements': 'Stock Movements',
        'low_stock_alerts': 'Low Stock Alerts',
        'history': 'History',
        'delete_entry': 'Delete Entry',
        'restore_product': 'Restore Product',
        'product_id': 'Product ID',
        'action': 'Action',
        'add_product': 'Add Product',
        'edit_product': 'Edit Product',
        'import_csv': 'Import CSV',
        'delete_product': 'Delete Product',
        'adjust_stock': 'Adjust Stock',
        'refresh': 'Refresh',
        'search_label': 'Search:',
        'select_csv_file': 'Select CSV File',
        'imported_products': '{count} products imported successfully!',
        'failed_import': 'Failed to import products: {error}',
        'categories_tab': 'Categories',
        'add_category': 'Add Category',
        'edit_category': 'Edit Category',
        'delete_category': 'Delete Category',
        'filter': 'Filter:',
        'products_below_min': 'Products below minimum stock level:',
        'refresh_alerts': 'Refresh Alerts',
        'add_stock': 'Add Stock',
        'remove_stock': 'Remove Stock',
        'sale_number': 'Sale #',
        'product_name': 'Product Name',
        'barcode': 'Barcode',
        'supplier': 'Supplier',
        'cost_price': 'Cost Price',
        'selling_price': 'Selling Price',
        'min_stock': 'Min Stock',
        'status': 'Status',
        'category_name': 'Category Name',
        'description': 'Description',
        'product_count': 'Product Count',
        'created_date': 'Created Date',
        'current_stock': 'Current Stock',
        'shortage': 'Shortage',
        'type': 'Type',
        'reference': 'Reference',
        'notes': 'Notes',
        'user': 'User',
        'value': 'Value',
        'rank': 'Rank',
        'qty_sold': 'Qty Sold',
        'times_sold': 'Times Sold',
        'avg_price': 'Avg Price',
        'last_sold': 'Last Sold',
        'sales_reports': 'Sales Reports',
        'inventory_reports': 'Inventory Reports',
        'product_performance': 'Product Performance',
        'financial_summary': 'Financial Summary',
        'sales_report_options': 'Sales Report Options',
        'inventory_report_options': 'Inventory Report Options',
        'performance_report_options': 'Performance Report Options',
        'financial_summary_options': 'Financial Summary Options',
        'sales_report_results': 'Sales Report Results',
        'inventory_report_results': 'Inventory Report Results',
        'product_performance_results': 'Product Performance Results',
        'date_header': 'Date',
        'receipt_no': 'Receipt #',
        'items_count': 'Items',
        'report_type': 'Report Type',
        'stock_valuation': 'Stock Valuation',
        'all_categories': 'All Categories',
        'generate_report': 'Generate Report',
        'export_csv': 'Export to CSV',
        'print_report': 'Print Report',
        'generate_summary': 'Generate Summary',
        'export_summary': 'Export Summary',
        'sales_metrics': 'Sales Metrics',
        'avg_sale': 'Average Sale',
        'total_tax': 'Total Tax',
        'payment_methods': 'Payment Methods',
        'cash_sales': 'Cash Sales',
        'card_sales': 'Card Sales',
        'credit_sales': 'Credit Sales',
        'top_5_products': 'Top 5 Products',
        'quantity_sold': 'Quantity Sold',
        'from_date': 'From Date',
        'to_date': 'To Date',
        'from_time': 'From Time',
        'to_time': 'To Time',
        'today': 'Today',
        'yesterday': 'Yesterday',
        'this_week': 'This Week',
        'this_month': 'This Month',
        'sort_by': 'Sort by',
        'profit': 'Profit',
        'period': 'Period',
        'this_year': 'This Year',
        'last_month': 'Last Month',
        'custom': 'Custom',
        'from_label': 'From:',
        'to_label': 'To:',

    },
    'fr': {
        'customer': 'Client',
        'tax_rate': 'Tax (%)',
        'tax_amount': 'Montant Taxe',
        'total': 'Total',
        'total_sales': 'Ventes',
        'revenue': 'Revenu',
        'low_stock': 'Stock Faible',
        'language': 'Langue',
        'theme': 'Thème',
        'settings': 'Paramètres',
        'users': 'Utilisateurs',
        'preferences': 'Préférences',
        'username': 'Nom d\u2019utilisateur',
        'password': 'Mot de passe',
        'add_user': 'Ajouter',
        'save_preferences': 'Enregistrer',
        'user_added': 'Utilisateur ajouté',
        'edit_user': 'Modifier utilisateur',
        'delete_user': 'Supprimer utilisateur',
        'user_updated': 'Utilisateur mis à jour',
        'user_deleted': 'Utilisateur supprimé',
        'change_password': 'Changer le mot de passe',
        'password_changed': 'Mot de passe changé',
        'old_password': 'Ancien mot de passe',
        'new_password': 'Nouveau mot de passe',
        'confirm_password': 'Confirmer mot de passe',
        'password_mismatch': 'Les mots de passe ne correspondent pas',
        'password_incorrect': 'Mot de passe incorrect',
        'select_user': 'Veuillez sélectionner un utilisateur',
        'cannot_delete_current_user': "Impossible de supprimer l'utilisateur connecté",
        'confirm_delete_user': "Êtes-vous sûr de vouloir supprimer cet utilisateur ?",
        'price_too_low': "Le prix ne peut pas être inférieur au prix de vente par défaut",

        'username_exists': "Nom d'utilisateur existe",
        'credentials_required': "Nom d'utilisateur et mot de passe requis",
        'preferences_saved': 'Préférences enregistrées',

        'pos': 'Point de Vente',
        'inventory': 'Inventaire',
        'reports': 'Rapports',
        'customers': 'Clients',

        'navigation': 'Navigation',
        'ready': 'Prêt',
        'product_search': 'Recherche Produit',
        'search': 'Rechercher',
        'category': 'Catégorie',
        'products': 'Produits',
        'add_to_cart': 'Ajouter au panier',
        'dashboard': 'Tableau de bord',
        'shopping_cart': 'Panier',
        'edit_qty': 'Modifier Qté',
        'remove': 'Supprimer',
        'clear_all': 'Tout effacer',
        'order_total': 'Total Commande',
        'subtotal': 'Sous-total',
        'payment': 'Paiement',
        'payment_method': 'Méthode de paiement',
        'amount_paid': 'Montant payé',
        'change': 'Monnaie',
        'process_sale': 'Valider la vente',
        'hold_sale': 'Suspendre',
        'new_sale': 'Nouvelle vente',
        'id': 'ID',
        'name': 'Nom',
        'price': 'Prix',
        'stock': 'Stock',
        'unit': 'Unité',
        'shopping_cart_product': 'Produit',
        'qty': 'Qté',
        'amount': 'Montant',
        'sales_receipt': 'REÇU DE VENTE',
        'receipt_number': 'Reçu n° :',
        'date': 'Date :',
        'cashier': 'Caissier :',
        'items': 'Article',
        'unit_price': 'Prix unitaire',
        'payment_method_label': 'Méthode de paiement :',
        'amount_paid_label': 'Montant payé :',
        'change_label': 'Monnaie :',
        'subtotal_label': 'Sous-total :',
        'tax_label': 'Taxe :',
        'total_label': 'Total :',
        'customer_label': 'Client',
        'language_changed': 'Langue modifiée. Veuillez redémarrer pour appliquer partout.',
        'inventory_management': "Gestion de l'inventaire",
        'reports_analytics': 'Rapports et analyses',
        'pos_ready': 'Point de Vente - Prêt',
        'failed_load_products': 'Échec du chargement des produits',
        'failed_refresh_products': 'Échec de la mise à jour des produits',
        'failed_load_customers': 'Échec du chargement des clients',
        'no_selection': 'Aucune sélection',
        'select_product': 'Veuillez sélectionner un produit à ajouter au panier.',
        'out_of_stock_msg': '{0} est en rupture de stock.',
        'insufficient_stock': 'Seulement {0} {1}(s) disponibles pour {2}.',
        'error': 'Erreur',
        'out_of_stock': 'Rupture de stock',
        'insufficient_stock_title': 'Stock insuffisant',
        'enter_quantity': 'Entrer la quantité',
        'product_label': 'Produit',
        'available': 'Disponible',
        'quantity': 'Quantité',
        'clear_cart': 'Vider le panier',
        'confirm_clear_cart': 'Voulez-vous vraiment tout effacer ?',
        'stock_movements': 'Mouvements de stock',
        'low_stock_alerts': 'Alertes de stock bas',
        'history': 'Historique',
        'delete_entry': 'Supprimer l\u2019entrée',
        'restore_product': 'Restaurer le produit',
        'product_id': 'ID Produit',
        'action': 'Action',
        'add_product': 'Ajouter un produit',
        'edit_product': 'Modifier le produit',
        'import_csv': 'Importer CSV',
        'delete_product': 'Supprimer le produit',
        'adjust_stock': 'Ajuster le stock',
        'refresh': 'Rafraîchir',
        'search_label': 'Recherche :',
        'select_csv_file': 'Choisir le fichier CSV',
        'imported_products': '{count} produits importés avec succès!',
        'failed_import': "Échec de l'importation des produits : {error}",
        'categories_tab': 'Catégories',
        'add_category': 'Ajouter une catégorie',
        'edit_category': 'Modifier la catégorie',
        'delete_category': 'Supprimer la catégorie',
        'filter': 'Filtrer :',
        'products_below_min': 'Produits en dessous du stock minimum :',
        'refresh_alerts': 'Rafraîchir les alertes',
        'add_stock': 'Ajouter du stock',
        'remove_stock': 'Retirer du stock',
        'sale_number': 'Vente n°',
        'product_name': 'Nom du produit',
        'barcode': 'Code-barres',
        'supplier': 'Fournisseur',
        'cost_price': 'Prix de revient',
        'selling_price': 'Prix de vente',
        'min_stock': 'Stock min',
        'status': 'Statut',
        'category_name': 'Nom de la catégorie',
        'description': 'Description',
        'product_count': 'Nombre de produits',
        'created_date': 'Date de création',
        'current_stock': 'Stock actuel',
        'shortage': 'Pénurie',
        'type': 'Type',
        'reference': 'Référence',
        'notes': 'Notes',
        'user': 'Utilisateur',
        'value': 'Valeur',
        'rank': 'Rang',
        'qty_sold': 'Qté vendue',
        'times_sold': 'Ventes',
        'avg_price': 'Prix moyen',
        'last_sold': 'Dernière vente',
        'sales_reports': 'Rapports de ventes',
        'inventory_reports': "Rapports d'inventaire",
        'product_performance': 'Performance produit',
        'financial_summary': 'Résumé financier',
        'sales_report_options': 'Options des rapports de vente',
        'inventory_report_options': "Options des rapports d'inventaire",
        'performance_report_options': 'Options de performance des produits',
        'financial_summary_options': 'Options du résumé financier',
        'sales_report_results': 'Résultats du rapport de vente',
        'inventory_report_results': "Résultats du rapport d'inventaire",
        'product_performance_results': 'Résultats de performance produit',
        'date_header': 'Date',
        'receipt_no': 'Reçu n°',
        'items_count': 'Articles',
        'report_type': 'Type de rapport',
        'stock_valuation': 'Valorisation du stock',
        'all_categories': 'Toutes les catégories',
        'generate_report': 'Générer le rapport',
        'export_csv': 'Exporter en CSV',
        'print_report': 'Imprimer le rapport',
        'generate_summary': 'Générer le résumé',
        'export_summary': 'Exporter le résumé',
        'sales_metrics': 'Indicateurs de vente',
        'avg_sale': 'Vente moyenne',
        'total_tax': 'Taxe totale',
        'payment_methods': 'Méthodes de paiement',
        'cash_sales': 'Ventes en espèces',
        'card_sales': 'Ventes par carte',
        'credit_sales': 'Ventes à crédit',
        'top_5_products': 'Top 5 produits',
        'quantity_sold': 'Quantité vendue',
        'from_date': 'Date de début',
        'to_date': 'Date de fin',
        'from_time': 'Heure de début',
        'to_time': 'Heure de fin',
        'today': 'Aujourd\u2019hui',
        'yesterday': 'Hier',
        'this_week': 'Cette semaine',
        'this_month': 'Ce mois',
        'sort_by': 'Trier par',
        'profit': 'Bénéfice',
        'period': 'Période',
        'this_year': 'Cette année',
        'last_month': 'Mois dernier',
        'custom': 'Personnalisé',
        'from_label': 'De :',
        'to_label': 'À :',

    },
}


def translate(key: str) -> str:
    """Translate a key based on current language setting."""
    lang = DatabaseUtils.get_setting_value('language', 'en')
    return TRANSLATIONS.get(lang, TRANSLATIONS['en']).get(key, key)
