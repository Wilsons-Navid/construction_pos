from database.database import DatabaseUtils

TRANSLATIONS = {
    'en': {
        'customer': 'Customer',
        'tax_rate': 'Tax Rate (%)',
        'tax_amount': 'Tax Amount',
        'total': 'Total',
        'total_sales': 'Total Sales',
        'revenue': 'Revenue',
        'low_stock': 'Low Stock Items',
        'language': 'Language',
        'theme': 'Theme',
        'settings': 'Settings',
        'users': 'Users',
        'preferences': 'Preferences',
        'username': 'Username',
        'password': 'Password',
        'add_user': 'Add User',
        'save_preferences': 'Save Preferences',
        'user_added': 'User added successfully',

        'username_exists': 'Username exists',
        'credentials_required': 'Username & Password required',
        'preferences_saved': 'Preferences saved',


        'pos': 'Point of Sale',
        'inventory': 'Inventory',
        'reports': 'Reports',
        'customers': 'Customers',

        'navigation': 'Navigation',
        'ready': 'Ready',
        'product_search': 'Product Search',
        'search': 'Search',
        'category': 'Category',
        'products': 'Products',
        'add_to_cart': 'Add to Cart',
        'dashboard': 'Dashboard',
        'shopping_cart': 'Shopping Cart',
        'edit_qty': 'Edit Qty',
        'remove': 'Remove',
        'clear_all': 'Clear All',
        'order_total': 'Order Total',
        'subtotal': 'Subtotal',
        'payment': 'Payment',
        'payment_method': 'Payment Method',
        'amount_paid': 'Amount Paid',
        'change': 'Change',
        'process_sale': 'Process Sale',
        'hold_sale': 'Hold Sale',
        'new_sale': 'New Sale',
        'id': 'ID',
        'name': 'Name',
        'price': 'Price',
        'stock': 'Stock',
        'unit': 'Unit',
        'shopping_cart_product': 'Product',
        'qty': 'Qty',
        'amount': 'Amount',
        'sales_receipt': 'SALES RECEIPT',
        'receipt_number': 'Receipt #:',
        'date': 'Date:',
        'cashier': 'Cashier:',
        'items': 'Item',
        'unit_price': 'Unit Price',
        'payment_method_label': 'Payment Method:',
        'amount_paid_label': 'Amount Paid:',
        'change_label': 'Change:',
        'subtotal_label': 'Subtotal:',
        'tax_label': 'Tax:',
        'total_label': 'Total:',
        'customer_label': 'Customer',
        'language_changed': 'Language changed. Please restart to apply everywhere.',
        'inventory_management': 'Inventory Management',
        'reports_analytics': 'Reports & Analytics',
        'pos_ready': 'Point of Sale - Ready',
        'failed_load_products': 'Failed to load products',
        'failed_refresh_products': 'Failed to refresh products',
        'failed_load_customers': 'Failed to load customers',
        'no_selection': 'No Selection',
        'select_product': 'Please select a product to add to cart.',
        'out_of_stock_msg': '{0} is out of stock.',
        'insufficient_stock': 'Only {0} {1}(s) available for {2}.',
        'error': 'Error',
        'out_of_stock': 'Out of Stock',
        'insufficient_stock_title': 'Insufficient Stock',
        'enter_quantity': 'Enter Quantity',
        'product_label': 'Product',
        'available': 'Available',
        'quantity': 'Quantity',
        'clear_cart': 'Clear Cart',
        'confirm_clear_cart': 'Are you sure you want to clear all items?',
        'stock_movements': 'Stock Movements',
        'low_stock_alerts': 'Low Stock Alerts',
        'add_product': 'Add Product',
        'edit_product': 'Edit Product',
        'delete_product': 'Delete Product',
        'adjust_stock': 'Adjust Stock',
        'refresh': 'Refresh',
        'search_label': 'Search:',
        'categories_tab': 'Categories',
        'add_category': 'Add Category',
        'edit_category': 'Edit Category',
        'delete_category': 'Delete Category',
        'filter': 'Filter:',
        'products_below_min': 'Products below minimum stock level:',
        'refresh_alerts': 'Refresh Alerts',
        'add_stock': 'Add Stock',
        'remove_stock': 'Remove Stock',
        'sale_number': 'Sale #',

    },
    'fr': {
        'customer': 'Client',
        'tax_rate': 'Tax (%)',
        'tax_amount': 'Montant Taxe',
        'total': 'Total',
        'total_sales': 'Ventes',
        'revenue': 'Revenu',
        'low_stock': 'Stock Faible',
        'language': 'Langue',
        'theme': 'Thème',
        'settings': 'Paramètres',
        'users': 'Utilisateurs',
        'preferences': 'Préférences',
        'username': 'Nom d\u2019utilisateur',
        'password': 'Mot de passe',
        'add_user': 'Ajouter',
        'save_preferences': 'Enregistrer',
        'user_added': 'Utilisateur ajouté',

        'username_exists': "Nom d'utilisateur existe",
        'credentials_required': "Nom d'utilisateur et mot de passe requis",
        'preferences_saved': 'Préférences enregistrées',

        'pos': 'Point de Vente',
        'inventory': 'Inventaire',
        'reports': 'Rapports',
        'customers': 'Clients',

        'navigation': 'Navigation',
        'ready': 'Prêt',
        'product_search': 'Recherche Produit',
        'search': 'Rechercher',
        'category': 'Catégorie',
        'products': 'Produits',
        'add_to_cart': 'Ajouter au panier',
        'dashboard': 'Tableau de bord',
        'shopping_cart': 'Panier',
        'edit_qty': 'Modifier Qté',
        'remove': 'Supprimer',
        'clear_all': 'Tout effacer',
        'order_total': 'Total Commande',
        'subtotal': 'Sous-total',
        'payment': 'Paiement',
        'payment_method': 'Méthode de paiement',
        'amount_paid': 'Montant payé',
        'change': 'Monnaie',
        'process_sale': 'Valider la vente',
        'hold_sale': 'Suspendre',
        'new_sale': 'Nouvelle vente',
        'id': 'ID',
        'name': 'Nom',
        'price': 'Prix',
        'stock': 'Stock',
        'unit': 'Unité',
        'shopping_cart_product': 'Produit',
        'qty': 'Qté',
        'amount': 'Montant',
        'sales_receipt': 'REÇU DE VENTE',
        'receipt_number': 'Reçu n° :',
        'date': 'Date :',
        'cashier': 'Caissier :',
        'items': 'Article',
        'unit_price': 'Prix unitaire',
        'payment_method_label': 'Méthode de paiement :',
        'amount_paid_label': 'Montant payé :',
        'change_label': 'Monnaie :',
        'subtotal_label': 'Sous-total :',
        'tax_label': 'Taxe :',
        'total_label': 'Total :',
        'customer_label': 'Client',
        'language_changed': 'Langue modifiée. Veuillez redémarrer pour appliquer partout.',
        'inventory_management': "Gestion de l'inventaire",
        'reports_analytics': 'Rapports et analyses',
        'pos_ready': 'Point de Vente - Prêt',
        'failed_load_products': 'Échec du chargement des produits',
        'failed_refresh_products': 'Échec de la mise à jour des produits',
        'failed_load_customers': 'Échec du chargement des clients',
        'no_selection': 'Aucune sélection',
        'select_product': 'Veuillez sélectionner un produit à ajouter au panier.',
        'out_of_stock_msg': '{0} est en rupture de stock.',
        'insufficient_stock': 'Seulement {0} {1}(s) disponibles pour {2}.',
        'error': 'Erreur',
        'out_of_stock': 'Rupture de stock',
        'insufficient_stock_title': 'Stock insuffisant',
        'enter_quantity': 'Entrer la quantité',
        'product_label': 'Produit',
        'available': 'Disponible',
        'quantity': 'Quantité',
        'clear_cart': 'Vider le panier',
        'confirm_clear_cart': 'Voulez-vous vraiment tout effacer ?',
        'stock_movements': 'Mouvements de stock',
        'low_stock_alerts': 'Alertes de stock bas',
        'add_product': 'Ajouter un produit',
        'edit_product': 'Modifier le produit',
        'delete_product': 'Supprimer le produit',
        'adjust_stock': 'Ajuster le stock',
        'refresh': 'Rafraîchir',
        'search_label': 'Recherche :',
        'categories_tab': 'Catégories',
        'add_category': 'Ajouter une catégorie',
        'edit_category': 'Modifier la catégorie',
        'delete_category': 'Supprimer la catégorie',
        'filter': 'Filtrer :',
        'products_below_min': 'Produits en dessous du stock minimum :',
        'refresh_alerts': 'Rafraîchir les alertes',
        'add_stock': 'Ajouter du stock',
        'remove_stock': 'Retirer du stock',
        'sale_number': 'Vente n°',

    },
}


def translate(key: str) -> str:
    """Translate a key based on current language setting."""
    lang = DatabaseUtils.get_setting_value('language', 'en')
    return TRANSLATIONS.get(lang, TRANSLATIONS['en']).get(key, key)
